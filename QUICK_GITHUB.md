# ğŸš€ ä½¿ç”¨ GitHub Actions è‡ªåŠ¨ç¼–è¯‘ - å®Œæ•´æŒ‡å—

## ğŸ“‹ å‰ææ¡ä»¶

- âœ… æœ‰ GitHub è´¦å·ï¼ˆå…è´¹ï¼‰
- âœ… å·²å®‰è£… Gitï¼ˆå¦‚æœæ²¡æœ‰ï¼Œä¸‹è½½ï¼šhttps://git-scm.com/download/winï¼‰

## ğŸ¯ ä¸‰æ­¥å®Œæˆ

### ç¬¬ 1 æ­¥ï¼šåˆ›å»º GitHub ä»“åº“ï¼ˆ2 åˆ†é’Ÿï¼‰

1. æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttps://github.com/new
2. å¡«å†™ä¿¡æ¯ï¼š
   - **Repository name**: `GB28181Client`
   - **Description**: `GB28181 çº§è”ä¸Šçº§å®¢æˆ·ç«¯`
   - é€‰æ‹© **Public**ï¼ˆå…¬å¼€ï¼‰æˆ– **Private**ï¼ˆç§æœ‰ï¼‰
3. **ä¸è¦**å‹¾é€‰ "Add a README file"
4. ç‚¹å‡» **Create repository**

### ç¬¬ 2 æ­¥ï¼šä¸Šä¼ ä»£ç ï¼ˆ3 åˆ†é’Ÿï¼‰

**æ–¹æ³• Aï¼šä½¿ç”¨è‡ªåŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰**

åŒå‡»è¿è¡Œ `upload_to_github.bat`ï¼ŒæŒ‰æç¤ºæ“ä½œï¼š
1. è¾“å…¥ä½ çš„ GitHub ç”¨æˆ·å
2. ç­‰å¾…ä¸Šä¼ å®Œæˆ

**æ–¹æ³• Bï¼šæ‰‹åŠ¨ä¸Šä¼ **

æ‰“å¼€å‘½ä»¤è¡Œï¼ˆCMD æˆ– Git Bashï¼‰ï¼Œè¿è¡Œï¼š

```bash
cd C:\Users\unfan\Desktop\player\GB28181Client

# é…ç½® Gitï¼ˆé¦–æ¬¡ä½¿ç”¨éœ€è¦ï¼‰
git config --global user.name "ä½ çš„åå­—"
git config --global user.email "ä½ çš„é‚®ç®±"

# åˆå§‹åŒ–å¹¶ä¸Šä¼ 
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/GB28181Client.git
git push -u origin main
```

**æ³¨æ„**ï¼šå¦‚æœæç¤ºéœ€è¦ç™»å½•ï¼Œä½¿ç”¨ GitHub ç”¨æˆ·åå’Œ Personal Access Tokenï¼ˆä¸æ˜¯å¯†ç ï¼‰ã€‚

**å¦‚ä½•è·å– Personal Access Token**ï¼š
1. è®¿é—®ï¼šhttps://github.com/settings/tokens
2. ç‚¹å‡» "Generate new token" â†’ "Generate new token (classic)"
3. å‹¾é€‰ `repo` æƒé™
4. ç‚¹å‡» "Generate token"
5. å¤åˆ¶ç”Ÿæˆçš„ tokenï¼ˆåªæ˜¾ç¤ºä¸€æ¬¡ï¼‰
6. åœ¨ Git æç¤ºè¾“å…¥å¯†ç æ—¶ï¼Œç²˜è´´è¿™ä¸ª token

### ç¬¬ 3 æ­¥ï¼šç­‰å¾…ç¼–è¯‘å®Œæˆï¼ˆ20-30 åˆ†é’Ÿï¼‰

1. è®¿é—®ä½ çš„ä»“åº“ï¼š`https://github.com/ä½ çš„ç”¨æˆ·å/GB28181Client`
2. ç‚¹å‡»é¡¶éƒ¨çš„ **Actions** æ ‡ç­¾
3. å¯ä»¥çœ‹åˆ°æ­£åœ¨è¿è¡Œçš„ç¼–è¯‘ä»»åŠ¡ï¼ˆé»„è‰²åœ†åœˆ ğŸŸ¡ï¼‰
4. ç­‰å¾…å˜æˆç»¿è‰²å‹¾å· âœ…ï¼ˆçº¦ 20-30 åˆ†é’Ÿï¼‰

**ç¼–è¯‘è¿›åº¦**ï¼š
- ğŸŸ¡ é»„è‰²ï¼šæ­£åœ¨ç¼–è¯‘
- âœ… ç»¿è‰²ï¼šç¼–è¯‘æˆåŠŸ
- âŒ çº¢è‰²ï¼šç¼–è¯‘å¤±è´¥ï¼ˆæŸ¥çœ‹æ—¥å¿—æ’æŸ¥é—®é¢˜ï¼‰

## ğŸ“¦ ä¸‹è½½ç¼–è¯‘ç»“æœ

ç¼–è¯‘æˆåŠŸåï¼š

1. åœ¨ **Actions** é¡µé¢ï¼Œç‚¹å‡»æœ€æ–°çš„ç¼–è¯‘ä»»åŠ¡ï¼ˆç»¿è‰²å‹¾å·ï¼‰
2. æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨ï¼Œæ‰¾åˆ° **Artifacts** éƒ¨åˆ†
3. ç‚¹å‡»ä¸‹è½½ `GB28181Client-Windows-Release`
4. è§£å‹ ZIP æ–‡ä»¶
5. åŒå‡»è¿è¡Œ `GB28181Client.exe`

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ å¯ä»¥ï¼š
- âœ… è¿è¡Œç¨‹åº
- âœ… é…ç½®æœåŠ¡å™¨å‚æ•°
- âœ… è¿æ¥ GB28181 è®¾å¤‡
- âœ… æŸ¥çœ‹å®æ—¶è§†é¢‘

## ğŸ”„ æ›´æ–°ä»£ç åé‡æ–°ç¼–è¯‘

å¦‚æœä¿®æ”¹äº†ä»£ç ï¼Œæƒ³é‡æ–°ç¼–è¯‘ï¼š

```bash
cd C:\Users\unfan\Desktop\player\GB28181Client
git add .
git commit -m "æ›´æ–°è¯´æ˜"
git push
```

æ¨é€åä¼šè‡ªåŠ¨è§¦å‘æ–°çš„ç¼–è¯‘ã€‚

## ğŸ› ï¸ æ‰‹åŠ¨è§¦å‘ç¼–è¯‘

ä¸ä¿®æ”¹ä»£ç ï¼Œåªæƒ³é‡æ–°ç¼–è¯‘ï¼š

1. è®¿é—® Actions é¡µé¢
2. ç‚¹å‡»å·¦ä¾§ **Build (Fast)**
3. ç‚¹å‡»å³ä¾§ **Run workflow** æŒ‰é’®
4. é€‰æ‹© **main** åˆ†æ”¯
5. ç‚¹å‡» **Run workflow**

## â“ å¸¸è§é—®é¢˜

### Q1ï¼šä¸Šä¼ æ—¶æç¤º "Permission denied"

**A**ï¼šéœ€è¦é…ç½® Git å‡­æ®ã€‚ä½¿ç”¨ Personal Access Token è€Œä¸æ˜¯å¯†ç ã€‚

### Q2ï¼šç¼–è¯‘å¤±è´¥ï¼ˆçº¢è‰² âŒï¼‰

**A**ï¼šç‚¹å‡»å¤±è´¥çš„ä»»åŠ¡ï¼ŒæŸ¥çœ‹è¯¦ç»†æ—¥å¿—ã€‚å¸¸è§åŸå› ï¼š
- ä»£ç è¯­æ³•é”™è¯¯
- ä¾èµ–åº“ç‰ˆæœ¬é—®é¢˜
- CMake é…ç½®é”™è¯¯

### Q3ï¼šæ‰¾ä¸åˆ° Artifacts

**A**ï¼šç¡®ä¿ç¼–è¯‘æˆåŠŸï¼ˆç»¿è‰²å‹¾å·ï¼‰ï¼Œç„¶åæ»šåŠ¨åˆ°é¡µé¢æœ€åº•éƒ¨ã€‚

### Q4ï¼šä¸‹è½½çš„ç¨‹åºæ— æ³•è¿è¡Œ

**A**ï¼šç¡®ä¿ä¸‹è½½äº†å®Œæ•´çš„ ZIP æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰ DLL æ–‡ä»¶ã€‚

### Q5ï¼šç¼–è¯‘æ—¶é—´å¤ªé•¿

**A**ï¼šé¦–æ¬¡ç¼–è¯‘éœ€è¦ä¸‹è½½æ‰€æœ‰ä¾èµ–ï¼ˆçº¦ 30 åˆ†é’Ÿï¼‰ã€‚åç»­ç¼–è¯‘ä¼šä½¿ç”¨ç¼“å­˜ï¼Œåªéœ€ 5-10 åˆ†é’Ÿã€‚

## ğŸ“Š ç¼–è¯‘çŠ¶æ€å¾½ç« 

åœ¨ README.md ä¸­æ·»åŠ ç¼–è¯‘çŠ¶æ€å¾½ç« ï¼š

```markdown
![Build Status](https://github.com/ä½ çš„ç”¨æˆ·å/GB28181Client/workflows/Build%20(Fast)/badge.svg)
```

æ•ˆæœï¼š![Build Status](https://img.shields.io/badge/build-passing-brightgreen)

## ğŸŒŸ è¿›é˜¶ä½¿ç”¨

### è‡ªåŠ¨å‘å¸ƒ

ç¼–è¾‘ `.github/workflows/build-fast.yml`ï¼Œæ·»åŠ è‡ªåŠ¨å‘å¸ƒåŠŸèƒ½ï¼š

```yaml
- name: Create Release
  if: startsWith(github.ref, 'refs/tags/')
  uses: softprops/action-gh-release@v1
  with:
    files: artifact/*
```

ç„¶ååˆ›å»º tag è§¦å‘å‘å¸ƒï¼š

```bash
git tag v1.0.0
git push origin v1.0.0
```

### å¤šå¹³å°ç¼–è¯‘

ä½¿ç”¨ `build.yml` å·¥ä½œæµå¯ä»¥åŒæ—¶ç¼–è¯‘ Windows å’Œ Linux ç‰ˆæœ¬ã€‚

### å®šæ—¶ç¼–è¯‘

åœ¨å·¥ä½œæµä¸­æ·»åŠ å®šæ—¶è§¦å‘ï¼š

```yaml
on:
  schedule:
    - cron: '0 0 * * 0'  # æ¯å‘¨æ—¥ 0 ç‚¹
```

## ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹ [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- åœ¨ä»“åº“ä¸­åˆ›å»º Issue
- æŸ¥çœ‹ [GITHUB_ACTIONS.md](GITHUB_ACTIONS.md) è¯¦ç»†æ–‡æ¡£

---

**ç°åœ¨å¼€å§‹ä¸Šä¼ ä»£ç å§ï¼** ğŸš€

åªéœ€è¦ 3 æ­¥ï¼Œ5 åˆ†é’Ÿæ“ä½œï¼Œ30 åˆ†é’Ÿç­‰å¾…ï¼Œå°±èƒ½å¾—åˆ°ç¼–è¯‘å¥½çš„ç¨‹åºï¼
